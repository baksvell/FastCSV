# –ü–ª–∞–Ω –¥–∞–ª—å–Ω–µ–π—à–∏—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π FastCSV

## –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–ø–æ—Å–ª–µ –≤—Å–µ—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π)

### ‚úÖ –û—Ç–ª–∏—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- **Large (10000 rows)**: 17.50x –±—ã—Å—Ç—Ä–µ–µ
- **Wide (1000 rows, 50 fields)**: 17.42x –±—ã—Å—Ç—Ä–µ–µ
- **Wide with quotes**: 17.14x –±—ã—Å—Ç—Ä–µ–µ
- **Small (50-100 rows)**: 1.15-1.40x –±—ã—Å—Ç—Ä–µ–µ

### ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç —É–ª—É—á—à–µ–Ω–∏—è:
- **Tiny (5 rows)**: 2.42x –º–µ–¥–ª–µ–Ω–Ω–µ–µ (—Å—Ç–∞–ª–æ —Ö—É–∂–µ —Å 2.11x)
- **Small (10 rows)**: 1.50x –º–µ–¥–ª–µ–Ω–Ω–µ–µ
- **Medium with quotes**: 1.12x –±—ã—Å—Ç—Ä–µ–µ (—Å—Ç–∞–ª–æ —Ö—É–∂–µ —Å 1.58x)

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: –û—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏–µ —Ñ–∞–π–ª—ã (<10 rows) üî¥ –ö–†–ò–¢–ò–ß–ù–û

### –ü—Ä–æ–±–ª–µ–º–∞:
- Overhead –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—Å–µ –µ—â–µ —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π
- Tiny (5 rows): 2.42x –º–µ–¥–ª–µ–Ω–Ω–µ–µ - —Å—Ç–∞–ª–æ —Ö—É–∂–µ –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- Small (10 rows): 1.50x –º–µ–¥–ª–µ–Ω–Ω–µ–µ

### –†–µ—à–µ–Ω–∏—è:

#### 1.1. –ü–æ–ª–Ω–æ—Å—Ç—å—é –∏–∑–±–µ–≥–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è C++ –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è —Ñ–∞–π–ª–æ–≤ <100 –±–∞–π—Ç
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Python csv.reader –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ <100 –±–∞–π—Ç
- –¢–µ–∫—É—â–∏–π –ø–æ—Ä–æ–≥ 50 –±–∞–π—Ç –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω
- **–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç**: 20-30% –¥–ª—è Tiny –∏ Small (10 rows)

#### 1.2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è property –¥–ª—è config –∏ parser
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç property –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—ã–∑–æ–≤–∞
- –ò–∑–±–µ–≥–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ isinstance –∏ getattr
- **–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç**: 10-15% –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

#### 1.3. –£–ø—Ä–æ—â–µ–Ω–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
- –î–ª—è StringIO –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å len(getvalue()) –≤–º–µ—Å—Ç–æ seek/tell
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
- **–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç**: 5-10% –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: –§–∞–π–ª—ã —Å –∫–∞–≤—ã—á–∫–∞–º–∏ üü° –í–ê–ñ–ù–û

### –ü—Ä–æ–±–ª–µ–º–∞:
- Medium with quotes: 1.12x –±—ã—Å—Ç—Ä–µ–µ (–±—ã–ª–æ 1.58x) - —Ä–µ–≥—Ä–µ—Å—Å–∏—è
- –ê–ª–≥–æ—Ä–∏—Ç–º –ø–∞—Ä—Å–∏–Ω–≥–∞ –∫–∞–≤—ã—á–µ–∫ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å

### –†–µ—à–µ–Ω–∏—è:

#### 2.1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è batch –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è —Ñ–∞–π–ª–æ–≤ —Å –∫–∞–≤—ã—á–∫–∞–º–∏
- –£–ª—É—á—à–∏—Ç—å SIMD –ø–æ–∏—Å–∫ –∫–∞–≤—ã—á–µ–∫ –∏ newline –≤ batch —Ä–µ–∂–∏–º–µ
- –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–æ–∫ –≤ —Ü–∏–∫–ª–µ
- **–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç**: 15-25% –¥–ª—è —Ñ–∞–π–ª–æ–≤ —Å –∫–∞–≤—ã—á–∫–∞–º–∏

#### 2.2. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–∞–≤—ã—á–µ–∫
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –Ω–∞–ª–∏—á–∏–∏ –∫–∞–≤—ã—á–µ–∫ –≤ —á–∞–Ω–∫–µ
- –ò–∑–±–µ–≥–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ has_escaped_quotes
- **–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç**: 10-15% –¥–ª—è —Ñ–∞–π–ª–æ–≤ —Å –∫–∞–≤—ã—á–∫–∞–º–∏

#### 2.3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è parse_line_quotes_no_escape
- –£–ª—É—á—à–∏—Ç—å –ø–æ–∏—Å–∫ –∫–∞–≤—ã—á–µ–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SIMD
- –£–º–µ–Ω—å—à–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ append –≤—ã–∑–æ–≤–æ–≤
- **–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç**: 10-20% –¥–ª—è —Ñ–∞–π–ª–æ–≤ —Å –∫–∞–≤—ã—á–∫–∞–º–∏

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ üü¢ –ñ–ï–õ–ê–¢–ï–õ–¨–ù–û

### 3.1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫
- –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å PyObject* –¥–ª—è –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫
- –ò–∑–±–µ–≥–∞—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –ø—É—Å—Ç—ã—Ö –ø–æ–ª–µ–π
- **–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç**: 5-10% –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤

### 3.2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å memory pool –¥–ª—è —á–∞—Å—Ç–æ —Å–æ–∑–¥–∞–≤–∞–µ–º—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–∫—Ç–æ—Ä–æ–≤
- **–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç**: 5-10% –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤

### 3.3. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ SIMD —Ñ—É–Ω–∫—Ü–∏–π
- –î–æ–±–∞–≤–∏—Ç—å SIMD —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–∏–º–≤–æ–ª–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ delimiter –∏ quote –≤–º–µ—Å—Ç–µ
- **–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç**: 10-15% –¥–ª—è —Å—Ä–µ–¥–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤

### 3.4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è Python –æ–±—ä–µ–∫—Ç–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PyUnicode_FromKindAndData –¥–ª—è –≤—Å–µ—Ö ASCII —Å—Ç—Ä–æ–∫
- –ò–∑–±–µ–≥–∞—Ç—å –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ ASCII
- **–û–∂–∏–¥–∞–µ–º—ã–π –ø—Ä–∏—Ä–æ—Å—Ç**: 5-10% –¥–ª—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤

## –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 1: –ö—Ä–∏—Ç–∏—á–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
1. –£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ—Ä–æ–≥ –¥–ª—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ csv –¥–æ 100 –±–∞–π—Ç
2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å property –¥–ª—è config –∏ parser
3. –£–ø—Ä–æ—Å—Ç–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
4. **–¶–µ–ª—å**: Tiny (5 rows) < 1.5x –º–µ–¥–ª–µ–Ω–Ω–µ–µ, Small (10 rows) < 1.2x –º–µ–¥–ª–µ–Ω–Ω–µ–µ

### –≠—Ç–∞–ø 2: –í–∞–∂–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)
1. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å batch –æ–±—Ä–∞–±–æ—Ç–∫—É –¥–ª—è —Ñ–∞–π–ª–æ–≤ —Å –∫–∞–≤—ã—á–∫–∞–º–∏
2. –ö—ç—à–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–∞–≤—ã—á–µ–∫
3. –£–ª—É—á—à–∏—Ç—å parse_line_quotes_no_escape
4. **–¶–µ–ª—å**: Medium with quotes > 1.5x –±—ã—Å—Ç—Ä–µ–µ

### –≠—Ç–∞–ø 3: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)
1. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É—Å—Ç—ã—Ö —Å—Ç—Ä–æ–∫
2. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–∞–º—è—Ç–∏
3. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ SIMD —Ñ—É–Ω–∫—Ü–∏–π
4. **–¶–µ–ª—å**: –û–±—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ –Ω–∞ 5-15%

## –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –≤—Å–µ—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π

- **Tiny (5 rows)**: < 1.5x –º–µ–¥–ª–µ–Ω–Ω–µ–µ (—Å–µ–π—á–∞—Å 2.42x)
- **Small (10 rows)**: < 1.2x –º–µ–¥–ª–µ–Ω–Ω–µ–µ (—Å–µ–π—á–∞—Å 1.50x)
- **Medium with quotes**: > 1.5x –±—ã—Å—Ç—Ä–µ–µ (—Å–µ–π—á–∞—Å 1.12x)
- **–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ**: —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–ª–∏ —É–ª—É—á—à–∏—Ç—å —Ç–µ–∫—É—â–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

## –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

- **FastCSV –±—ã—Å—Ç—Ä–µ–µ**: > 90% —Ç–µ—Å—Ç–æ–≤ (—Å–µ–π—á–∞—Å ~87.5%)
- **–°—Ä–µ–¥–Ω–∏–π speedup**: > 5x (—Å–µ–π—á–∞—Å ~4.13x)
- **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π slowdown**: < 1.5x (—Å–µ–π—á–∞—Å 2.42x)




